---
title: Connect to MariaDB
description: Learn how to connect to your MariaDB database in Zerops from various environments.
---

This guide covers how to connect to your MariaDB database in Zerops, both from services within the same project and from outside the Zerops environment.

## Default MariaDB database and user

Zerops creates a default database and a default user automatically when a new MariaDB service is [created](/services/mariadb/create).

### Database

The default database name is identical to the service hostname. The default encoding is set to `utf8mb4`.

### DB user

Default user name is identical to the service hostname. Default user password is generated randomly. You will find the password in Zerops GUI or you can use the environment variable.

<Info>
Zerops creates a second DB user: `zps` for maintenance reasons with full privileges. Do not delete, change the password or remove privileges from this user, it will disrupt Zerops ability to maintain the database cluster.
</Info>

## Copy access details from Zerops GUI

You will find the MariaDB access details under the **Access details** button in the project dashboard page.

The same information is available in the service detail page in the left menu under the **Peek access details** button.

### MariaDB access parameters

| Parameter | Description |
|-----------|-------------|
| **Hostname** | The service hostname specified when the MariaDB service was created. |
| **Port** | **3306**<br/>This port is fixed for all MariaDB services and cannot be customized. |
| **User** | Zerops creates a database user automatically when the service is created. The user name is always identical to the service hostname. |
| **Password** | Zerops sets a random password when the service is created. |
| **Connection string** | The connection string for MariaDB service is:<br/>`mysql://${user}:${password}@{hostname}:3306` |

## Connect to MariaDB from runtime services of the same project

Projects in Zerops represent a group of one or more services. Services can be of different types (runtime services, databases, message brokers, object storage, etc.). All services of the same project share a **dedicated private network**. To connect to a service within the same project, just use the service hostname and its internal port.

### Direct Connection Example

To connect to MariaDB `database1` service, set:

```
host = database1
port = 3306
user = database1
password = **********
```

You will find the password under the **Access details** button in Zerops GUI.

<Warning>
Do not use SSL/TLS protocols when connecting to MariaDB from other runtime services in the same project. Zerops MariaDB is not configured to support these protocols. The security is assured by the project private network. Due to security reasons Zerops doesn't allow exposing MariaDB service to the internet.
</Warning>

## Use MariaDB environment variables

Zerops creates default environment variables for each MariaDB service to help you with connection from runtime services in the same project. To avoid the need to copy database access parameters manually, use environment variables in your runtime service.

### Prefix the environment variable key

All services of the same project can reference environment variables from other services. To use an environment variable from one service in another service in the same project, you must prefix the environment variable key with the service hostname and underscore.

#### Example

To access the `connectionString` env variable of the `mariadb1` service, use `mariadb1_connectionString` as the env variable key.

To access the `password` env variable of the `mariadb2` service, use `mariadb2_password` as the env variable key.

### MariaDB environment variables

List of service environment variables is available in Zerops GUI. Go to a MariaDB service detail and choose **Environment variables** in the left menu.

Zerops creates following environment variables when the MariaDB service is created:

| Variable | Description |
|----------|-------------|
| **hostname** | The service hostname specified when the MariaDB service was created. |
| **port** | **3306**<br/>This port is fixed for all MariaDB services and cannot be customized. |
| **projectId** | ID of the project. Generated by Zerops. |
| **serviceId** | ID of the MariaDB service. Generated by Zerops. |
| **connectionString** | The connection string for MariaDB service is:<br/>`mysql://${user}:${password}@{hostname}:3306`<br/><br/>Connection string contains references to `user` and `password` variables. Each time the `user` or `password` variable is updated, the `connectionString` variable is automatically updated as well. |
| **user** | Zerops creates a database user automatically when the service is created. The user name is always identical to the service hostname. |
| **password** | Zerops sets a random password when the service is created. |

<Warning>
**Important notes:**
- When you change the value of the password env variable, only the env variable is updated, not the actual password of the MariaDB user. You have to update the password of the database user manually.
- When you change the password of the default MariaDB user in the database, the new password is not synchronised to the password env variable. You have to update the `password` env variable manually.
</Warning>

You can create own custom [environment variables](/features/env-variables) for the MariaDB service in Zerops GUI and use them in the same way as the default variables.

### Connection Examples

<CodeGroup>
```javascript Node.js
// Using environment variables to connect
const mysql = require('mysql2');

const connection = mysql.createConnection(
  process.env.mariadb1_connectionString
);

// Or using individual parameters
const connection = mysql.createConnection({
  host: process.env.mariadb1_hostname,
  port: process.env.mariadb1_port,
  user: process.env.mariadb1_user,
  password: process.env.mariadb1_password,
  database: process.env.mariadb1_hostname
});
```

```python Python
import os
import mysql.connector

# Using individual parameters
connection = mysql.connector.connect(
    host=os.environ['mariadb1_hostname'],
    port=os.environ['mariadb1_port'],
    user=os.environ['mariadb1_user'],
    password=os.environ['mariadb1_password'],
    database=os.environ['mariadb1_hostname']
)
```

```php PHP
<?php
// Using environment variables to connect
$mysqli = new mysqli(
    getenv('mariadb1_hostname'),
    getenv('mariadb1_user'),
    getenv('mariadb1_password'),
    getenv('mariadb1_hostname'),
    getenv('mariadb1_port')
);

if ($mysqli->connect_error) {
    die('Connect Error: ' . $mysqli->connect_error);
}
?>
```
</CodeGroup>

## Connect to MariaDB in Zerops remotely

<Warning>
Due to security reasons Zerops doesn't allow exposing MariaDB service directly to the internet.
</Warning>

### Connect via Zerops VPN

You can securely connect to MariaDB from your local workspace via Zerops VPN. Zerops VPN client is included into zCLI, the Zerops command-line tool.

<Steps>
  <Step title="Install & setup zCLI">
    [Install and configure zCLI](/references/cli) if you haven't already.
  </Step>
  
  <Step title="Start the Zerops VPN">
    [Start the VPN connection](/references/networking/vpn#start-vpn) to your project.
  </Step>
  
  <Step title="Get connection details">
    Copy the [access details](#copy-access-details-from-zerops-gui) manually from Zerops GUI.
    
    <Info>Environment variables are not available when connected through VPN.</Info>
  </Step>
  
  <Step title="Connect with your tool">
    Use your preferred database management tool or command-line client to connect.
  </Step>
  
  <Step title="Stop the VPN when finished">
    [Stop the Zerops VPN](/references/networking/vpn#stop-vpn) when you're done.
  </Step>
</Steps>

<Warning>
Do not use SSL/TLS protocols when connecting to MariaDB over VPN. Zerops MariaDB is not configured to support these protocols. The security is assured by the VPN.
</Warning>

### Using mysql CLI

If you use the [mysql](https://dev.mysql.com/doc/refman/8.1/en/mysql.html) command-line client to manage your MariaDB on your local workspace, you can connect it securely to MariaDB via Zerops VPN.

Once the VPN session is established, you have the secured connection to the project's private network in Zerops. You can access all project services locally by using their hostname.

Use `mysql` command to connect to MariaDB in Zerops:

```bash
mysql -h [hostname] -u [user] -p [password] [database_name]
```

<Tip>
Try `{hostname}.zerops` instead of just `{hostname}` if you encounter any connection issues.
</Tip>

## Connect to MariaDB from another Zerops project

All services of the same project share a **dedicated private network**. You can use the service hostname to connect from one service to another within the same project.

Different Zerops projects have no special connection. They can communicate with each other only via the internet. If you need to connect to a MariaDB service in a Zerops project from a runtime service in another project, you need to use the [Zerops VPN](#connect-via-zerops-vpn).

<Warning>
Due to security reasons Zerops doesn't allow exposing MariaDB service directly to the internet.
</Warning>

## Next Steps

<Card title="Manage MariaDB" icon="database" href="/services/mariadb/manage">
  Learn how to manage users and databases
</Card>